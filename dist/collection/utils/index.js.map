{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/utils/index.ts"],"names":[],"mappings":"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","sourcesContent":["export * from '../store/dimension/dimension.helpers';\n\n\ninterface CSSStyleDeclarationExtended extends CSSStyleDeclaration {\n  msOverflowStyle: string;\n}\n\n/* Generate range on size\n */\nexport function range(size: number, startAt: number = 0): number[] {\n  const res: number[] = [];\n  const end = startAt + size;\n  for (let i = startAt; i < end; i++) {\n    res.push(i);\n  }\n  return res;\n}\n\n/* Find index position in array */\nexport function findPositionInArray<T>(this: T[], el: T, compareFn: (el: T, el2: T) => number): number {\n  return (function (arr): number {\n    let m: number = 0;\n    let n: number = arr.length - 1;\n\n    while (m <= n) {\n      const k: number = (n + m) >> 1;\n      const cmp: number = compareFn(el, arr[k]);\n\n      if (cmp > 0) {\n        m = k + 1;\n      } else if (cmp < 0) {\n        n = k - 1;\n      } else {\n        return k;\n      }\n    }\n\n    return -m - 1;\n  })(this);\n}\n\n/**\n * Sorted push\n */\nexport function pushSorted<T>(arr: T[], el: T, fn: (el: T, el2: T) => number): T[] {\n  arr.splice(findPositionInArray.bind(arr)(el, fn), 0, el);\n  return arr;\n}\n\n// (arr1[index1] < arr2[index2])\nfunction simpleCompare<T>(el1: T, el2: T): boolean {\n  return el1 < el2;\n}\n\n/**\n * Merge sorted array helper function\n */\nexport function mergeSortedArray<T>(arr1: T[], arr2: T[], compareFn: (el: T, el2: T) => boolean = simpleCompare): T[] {\n  const merged: T[] = [];\n  let index1: number = 0;\n  let index2: number = 0;\n  let current: number = 0;\n\n  while (current < arr1.length + arr2.length) {\n    let isArr1Depleted = index1 >= arr1.length;\n    let isArr2Depleted = index2 >= arr2.length;\n\n    if (!isArr1Depleted && (isArr2Depleted || compareFn(arr1[index1], arr2[index2]))) {\n      merged[current] = arr1[index1];\n      index1++;\n    } else {\n      merged[current] = arr2[index2];\n      index2++;\n    }\n\n    current++;\n  }\n\n  return merged;\n}\n\n/* Calculate system scrollbar width */\nexport function getScrollbarWidth(doc: Document): number {\n  // Creating invisible container\n  const outer: HTMLElement = doc.createElement('div');\n  const styles: CSSStyleDeclarationExtended = outer.style as CSSStyleDeclarationExtended;\n  styles.visibility = 'hidden';\n  styles.overflow = 'scroll'; // forcing scrollbar to appear\n  styles.msOverflowStyle = 'scrollbar'; // needed for WinJS apps\n  doc.body.appendChild(outer);\n\n  // Creating inner element and placing it in the container\n  const inner: HTMLDivElement = doc.createElement('div');\n  outer.appendChild(inner);\n\n  // Calculating difference between container's full width and the child width\n  const scrollbarWidth: number = outer.offsetWidth - inner.offsetWidth;\n\n  // Removing temporary elements from the DOM\n  outer.parentNode.removeChild(outer);\n\n  return scrollbarWidth;\n}\n\n/* Scale a value between 2 ranges\n *\n * Sample:\n * // 55 from a 0-100 range to a 0-1000 range (Ranges don't have to be positive)\n * const n = scaleValue(55, [0,100], [0,1000]);\n *\n * Ranges of two values\n * @from\n * @to\n *\n * ~~ return value does the equivalent of Math.floor but faster.\n */\nexport function scaleValue(value: number, from: [number, number], to: [number, number]): number {\n  return ((to[1] - to[0]) * (value - from[0])) / (from[1] - from[0]) + to[0];\n}\n\n/**\n * Async timeout\n */\nexport async function timeout(delay = 0): Promise<void> {\n  await new Promise((r: (v?: any) => void) => {\n    setTimeout(() => r(), delay);\n  });\n}\n\n/**\n * Type script mixins\n */\nexport function applyMixins(derivedCtor: any, constructors: any[]) {\n  constructors.forEach(baseCtor => {\n    Object.getOwnPropertyNames(baseCtor.prototype).forEach(name => {\n      Object.defineProperty(derivedCtor.prototype, name, Object.getOwnPropertyDescriptor(baseCtor.prototype, name) || Object.create(null));\n    });\n  });\n}\n"]}