{"version":3,"file":"resizable.directive.js","sourceRoot":"","sources":["../../src/services/resizable.directive.tsx"],"names":[],"mappings":"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","sourcesContent":["export type ResizeProps = {\n  active: ('r' | 'rb' | 'b' | 'lb' | 'l' | 'lt' | 't' | 'rt')[]; // all\n  fitParent: boolean; // false\n  minWidth: number; // 0\n  minHeight: number; // 0\n\n  disableAttributes: ('l' | 't' | 'w' | 'h')[]; // []\n  maxWidth?: number;\n  maxHeight?: number;\n\n  onResize?(e: ResizeEvent): void;\n  onDoubleClick?(originalEvent: MouseEvent): void;\n};\n\nexport type ResizeEvent = {\n  eventName: string;\n  changedX?: number;\n  changedY?: number;\n  width?: number;\n  height?: number;\n};\n\nexport enum ResizeEvents {\n  start = 'resize:start',\n  move = 'resize:move',\n  end = 'resize:end',\n}\n\nconst RESIZE_MASK: { [key: string]: any } = {\n  'resizable-r': { bit: 0b0001, cursor: 'ew-resize' },\n  'resizable-rb': { bit: 0b0011, cursor: 'se-resize' },\n  'resizable-b': { bit: 0b0010, cursor: 's-resize' },\n  'resizable-lb': { bit: 0b0110, cursor: 'sw-resize' },\n  'resizable-l': { bit: 0b0100, cursor: 'w-resize' },\n  'resizable-lt': { bit: 0b1100, cursor: 'nw-resize' },\n  'resizable-t': { bit: 0b1000, cursor: 'n-resize' },\n  'resizable-rt': { bit: 0b1001, cursor: 'ne-resize' },\n};\n\nconst DISABLE_MASK = {\n  l: 0b0001,\n  t: 0b0010,\n  w: 0b0100,\n  h: 0b1000,\n};\n\nconst defaultProps = (props: Partial<ResizeProps>): ResizeProps => {\n  return {\n    ...props,\n    fitParent: props.fitParent || false,\n    active: props.active || [],\n    disableAttributes: props.disableAttributes || [],\n    minWidth: props.minWidth || 0,\n    minHeight: props.minHeight || 0,\n  };\n};\n\nexport class ResizeDirective {\n  private $el: HTMLElement;\n  private props: ResizeProps;\n  private minW: number;\n  private minH: number;\n  private maxW: number;\n  private maxH: number;\n\n  private mouseX: number = 0;\n  private mouseY: number = 0;\n\n  private width: number = 0;\n  private height: number = 0;\n\n  private changeX: number = 0;\n  private changeY: number = 0;\n\n  private parent: { width: number; height: number };\n  private resizeState: number;\n  private activeResizer: HTMLElement | null;\n  private disableCalcMap: number = 0b1111;\n\n  private mouseMoveFunc: () => void;\n  private mouseUpFunc: () => void;\n\n  constructor(private initialProps: Partial<ResizeProps>, private $event?: (e: ResizeEvent) => void) {\n    this.props = defaultProps(initialProps);\n    this.mouseMoveFunc = this.handleMove.bind(this);\n    this.mouseUpFunc = this.handleUp.bind(this);\n\n    this.minW = this.props.minWidth;\n    this.minH = this.props.minHeight;\n    this.maxW = this.props.maxWidth;\n    this.maxH = this.props.maxHeight;\n    this.parent = { width: 0, height: 0 };\n    this.resizeState = 0;\n  }\n\n  set($el: HTMLElement) {\n    this.$el = $el;\n    this.props.disableAttributes.forEach(attr => {\n      switch (attr) {\n        case 'l':\n          this.disableCalcMap &= ~DISABLE_MASK.l;\n          break;\n        case 't':\n          this.disableCalcMap &= ~DISABLE_MASK.t;\n          break;\n        case 'w':\n          this.disableCalcMap &= ~DISABLE_MASK.w;\n          break;\n        case 'h':\n          this.disableCalcMap &= ~DISABLE_MASK.h;\n      }\n    });\n  }\n  emitEvent(eventName: string, additionalOptions?: any) {\n    if (!this.$event) {\n      return;\n    }\n    const isLeft = this.activeResizer?.classList.contains('resizable-l');\n    this.$event({\n      eventName,\n      width: this.width + this.changeX * (isLeft ? -1 : 1),\n      height: this.height + this.changeY,\n      changedX: this.changeX,\n      changedY: this.changeY,\n      ...additionalOptions,\n    });\n  }\n\n  private static isTouchEvent(e: MouseEvent | TouchEvent): e is TouchEvent {\n    const event = e as TouchEvent;\n    return event.touches?.length >= 0;\n  }\n\n  handleMove(event: MouseEvent | TouchEvent) {\n    if (!this.resizeState) {\n      return;\n    }\n    let eventY, eventX;\n    if (ResizeDirective.isTouchEvent(event)) {\n      eventY = event.touches[0].clientY;\n      eventX = event.touches[0].clientX;\n    } else {\n      eventY = event.clientY;\n      eventX = event.clientX;\n    }\n    let isX = this.resizeState & RESIZE_MASK['resizable-r'].bit || this.resizeState & RESIZE_MASK['resizable-l'].bit;\n\n    let isY = this.resizeState & RESIZE_MASK['resizable-t'].bit || this.resizeState & RESIZE_MASK['resizable-b'].bit;\n\n    if (isY && this.disableCalcMap & DISABLE_MASK.h) {\n      let diffY = eventY - this.mouseY;\n      let changedY = this.changeY + diffY;\n      const newHeight = this.height + changedY;\n      // if overcrossed min height\n      if (newHeight < this.minH) {\n        changedY = -(this.height - this.minH);\n      }\n      // if overcrossed max heiht\n      if (this.maxH && newHeight > this.maxH) {\n        changedY = this.maxH - this.height;\n      }\n\n      this.changeY = changedY;\n      this.mouseY = eventY;\n\n      if (this.activeResizer) {\n        this.activeResizer.style.bottom = `${-this.changeY}px`;\n      }\n    }\n    if (isX && this.disableCalcMap & DISABLE_MASK.w) {\n      const isLeft = this.activeResizer?.classList.contains('resizable-l');\n      let diffX = eventX - this.mouseX;\n      let changedX = this.changeX + diffX;\n      const newWidth = this.width + changedX * (isLeft ? -1 : 1);\n\n      // if overcrossed min width\n      if (newWidth < this.minW) {\n        changedX = -(this.width - this.minW);\n      }\n      // if overcrossed max width\n      if (this.maxW && newWidth > this.maxW) {\n        changedX = this.maxW - this.width;\n      }\n\n      this.changeX = changedX;\n      this.mouseX = eventX;\n\n      if (this.activeResizer) {\n        if (!isLeft) {\n          this.activeResizer.style.right = `${-this.changeX}px`;\n        } else {\n          this.activeResizer.style.left = `${this.changeX}px`;\n        }\n      }\n    }\n    this.emitEvent(ResizeEvents.move);\n  }\n\n  handleDown(event: MouseEvent | TouchEvent) {\n    if (event.defaultPrevented) {\n      return;\n    }\n    // stop other events if resize in progress\n    event.preventDefault();\n\n    this.dropInitial();\n    for (let elClass in RESIZE_MASK) {\n      const target = event.target as HTMLElement | null;\n      if (this.$el.contains(target) && target?.classList.contains(elClass)) {\n        document.body.style.cursor = RESIZE_MASK[elClass].cursor;\n        if (ResizeDirective.isTouchEvent(event)) {\n          this.setInitials(event.touches[0], target);\n        } else {\n          event.preventDefault && event.preventDefault();\n          this.setInitials(event, target);\n        }\n        this.resizeState = RESIZE_MASK[elClass].bit;\n        const eventName = ResizeEvents.start;\n        this.emitEvent(eventName);\n        break;\n      }\n    }\n    this.bindMove();\n  }\n\n  handleUp(e: MouseEvent) {\n    e.preventDefault();\n    if (this.resizeState !== 0) {\n      this.resizeState = 0;\n      document.body.style.cursor = '';\n      const eventName = ResizeEvents.end;\n      this.emitEvent(eventName);\n    }\n    this.dropInitial();\n    this.unbindMove();\n  }\n\n  private setInitials({ clientX, clientY }: { clientX: number; clientY: number }, target?: HTMLElement) {\n    const computedStyle = getComputedStyle(this.$el);\n    this.$el.classList.add('active');\n    this.activeResizer = target;\n\n    if (this.disableCalcMap & DISABLE_MASK.w) {\n      this.mouseX = clientX;\n      this.width = this.$el.clientWidth;\n      this.parent.width = this.$el.parentElement.clientWidth;\n\n      // min width\n      const minPaddingX = parseFloat(computedStyle.paddingLeft) + parseFloat(computedStyle.paddingRight);\n      this.minW = Math.max(minPaddingX, this.initialProps.minWidth || 0);\n\n      // max width\n      if (this.initialProps.maxWidth) {\n        this.maxW = Math.max(this.width, this.initialProps.maxWidth);\n      }\n    }\n\n    if (this.disableCalcMap & DISABLE_MASK.h) {\n      this.mouseY = clientY;\n      this.height = this.$el.clientHeight;\n      this.parent.height = this.$el.parentElement.clientHeight;\n\n      // min height\n      const minPaddingY = parseFloat(computedStyle.paddingTop) + parseFloat(computedStyle.paddingBottom);\n      this.minH = Math.max(minPaddingY, this.initialProps.minHeight || 0);\n      // max height\n      if (this.initialProps.maxHeight) {\n        this.maxH = Math.max(this.height, this.initialProps.maxHeight);\n      }\n    }\n  }\n\n  private dropInitial() {\n    this.changeX = this.changeY = this.minW = this.minH;\n    this.width = this.height = 0;\n    if (this.activeResizer) {\n      this.activeResizer.removeAttribute('style');\n    }\n    this.$el.classList.remove('active');\n    this.activeResizer = null;\n  }\n\n  private bindMove() {\n    document.documentElement.addEventListener('mouseup', this.mouseUpFunc, true);\n    document.documentElement.addEventListener('touchend', this.mouseUpFunc, true);\n    document.documentElement.addEventListener('mousemove', this.mouseMoveFunc, true);\n    document.documentElement.addEventListener('touchmove', this.mouseMoveFunc, true);\n    document.documentElement.addEventListener('mouseleave', this.mouseUpFunc);\n  }\n\n  private unbindMove() {\n    document.documentElement.removeEventListener('mouseup', this.mouseUpFunc, true);\n    document.documentElement.removeEventListener('touchend', this.mouseUpFunc, true);\n    document.documentElement.removeEventListener('mousemove', this.mouseMoveFunc, true);\n    document.documentElement.removeEventListener('touchmove', this.mouseMoveFunc, true);\n    document.documentElement.removeEventListener('mouseleave', this.mouseUpFunc);\n  }\n}\n\n"]}